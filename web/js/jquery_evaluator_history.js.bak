
// Once the document object is loaded...
$('document').ready(function () {

		appBaseURL = '/symfony/mediascore1.0a/frontend_dev.php/';

		//$('#asset-group-save').hide();

		$('#asset-group-save').click(function(event) {
			event.preventDefault();

			$.post(
				appBaseURL+$('#format-type-model-name').val()+'/create',
				$('#format-type-container').children('form').serialize(),
					function(data,textStatus) {
						console.log( data );
					});
		});

		// For the FormatType Models //

		getAddFormatTypeForm = function () {

			$('#format-type-container').load(
				appBaseURL+$('#format-type-model-name').val()+'/new',
			)
		}; // Format Type

		$('#format-type-model-name').click(function () {

			getAddFormatTypeForm();
		});

		getAddFormatTypeForm(); // When the DOM is loaded.

		// For the EvaluatorHistory Models //


		refreshElementHandlers = function () {

		// If a "delete" hyperlink is clicked...
		$('.evaluator-history-delete').click(function (e) {
			e.preventDefault();
			alert('Replace me with a warning modal');
		$('#evaluator-history-edit-container').load(
						'/symfony/mediascore1.0a/frontend_dev.php/evaluatorhistory/delete?id='+$(this).attr('id'),
						function (data) {
							location.reload();
						});
		});


		// If an "edit" hyperlink is clicked...
		$('.evaluator-history-edit').click(function (e) {
			e.preventDefault();
			//alert('trace');
			//console.log('trace');
			//console.log( $(this).attr('href') );
		// ...load the Evaluator History Edit View through an AJAX call...
		$('#evaluator-history-edit-container').load(
						'/symfony/mediascore1.0a/frontend_dev.php/evaluatorhistory/edit?id='+$(this).attr('id'),
						//'/symfony/mediascore1.0a/frontend_dev.php/'+$(this).attr('href'),
						// ...specifying the Evaluator History ID as a parameter value in the GET request
						//{ id : $(this).attr('target') },
						function (data) {
							refreshElementHandlers();
							// Hide the "+ ADD NEW" input element
							$('#evaluator-history-new').hide();
							//alert(data);
							// If the "cancel" hyperlink is clicked...
							$('#evaluator-history-cancel').click(function () {
								$('#evaluator-history-edit-container').empty();
								$('#evaluator-history-new').show();
							});
						});
		});

		// If the "save" hyperlink is clicked...
		$('#evaluator-history-save').click(function (e) {
			// ...load the Evaluator History Edit View through an AJAX call...
			e.preventDefault();
			//console.log($('#evaluator_history_id').prop('tagName'));
			//console.log($('#evaluator_history_id').val());
			if($('#evaluator_history_id').val())
				saveURL='/symfony/mediascore1.0a/frontend_dev.php/evaluatorhistory/update/id/' + $('#evaluator_history_id').val();
			else
				saveURL='/symfony/mediascore1.0a/frontend_dev.php/evaluatorhistory/create';
			$.post(
				saveURL,
				$('#evaluator-history-form').serialize(),
					function(data,textStatus) {
						//refreshElementHandlers;
						location.reload();
						//console.log('success');
						//$('#evaluator-history-edit-container').empty();
						//$('#evaluator-history-new').show();
						//$('#evaluator-history-container').html(data);
					});
		});

		// If the "+ ADD NEW" input element is clicked...
		$('#evaluator-history-new').click(function () {
		// ...load the Evaluator History New View through an AJAX call...
		$('#evaluator-history-edit-container').load(
			                        '/symfony/mediascore1.0a/frontend_dev.php/evaluatorhistory/new',
						function () {
							refreshElementHandlers();
							// Hide the "+ ADD NEW" input element
							$('#evaluator-history-new').hide();

							// Load the current date and time
							//console.log( $('#asset_group_created_at_month').prop('tagName') );
							now = new Date();

							// Link this new EvaluatorHistory and AssetGroup objects
							$('#evaluator_history_asset_group_id').val( $('input[name="asset_group[id]"]').val() );
							$('#evaluator_history_created_at_year').prop('selectedIndex',now.getFullYear() - 2006);
							$('#evaluator_history_created_at_month').prop('selectedIndex',now.getMonth()+1);
							$('#evaluator_history_created_at_day').prop('selectedIndex',now.getDate());
							$('#evaluator_history_created_at_hour').prop('selectedIndex',now.getHours()+1);
							$('#evaluator_history_created_at_minute').prop('selectedIndex',now.getMinutes()+1);
						});
		});

		$('#evaluator-history-cancel').click(function () {
			$('#evaluator-history-edit-container').empty();
			$('#evaluator-history-new').show();
		});

		}



		$('#evaluator-history-container').load(
			'/symfony/mediascore1.0a/frontend_dev.php/evaluatorhistory',
			// ...specifying the Asset Group's ID as a parameter value in the GET request.
			{ id : $('input[name="asset_group[id]"]').val() },
			refreshElementHandlers);
			// If successful...
			//function () {

		//});
});

		// ...load the Evaluator History Index View for the Asset Group through an AJAX call...

		/*$('#evaluator-history-container').load(
			'/symfony/mediascore1.0a/frontend_dev.php/evaluatorhistory',
			// ...specifying the Asset Group's ID as a parameter value in the GET request.
			{ id : $('input[name="asset_group[id]"]').val() },
			// If successful...
			function () {*/
				// If the "+ ADD NEW" input element is clicked...
				/*$('#evaluator-history-new').click(function () {
				// ...load the Evaluator History New View through an AJAX call...
				$('#evaluator-history-edit-container').load(
					                        '/symfony/mediascore1.0a/frontend_dev.php/evaluatorhistory/new',
								function () {
									// Hide the "+ ADD NEW" input element
									$('#evaluator-history-new').hide();

									// Load the current date and time
									//console.log( $('#asset_group_created_at_month').prop('tagName') );
									now = new Date();

									// Link this new EvaluatorHistory and AssetGroup objects
									$('#evaluator_history_asset_group_id').val( $('input[name="asset_group[id]"]').val() );
									$('#evaluator_history_created_at_year').prop('selectedIndex',now.getFullYear() - 2006);
									$('#evaluator_history_created_at_month').prop('selectedIndex',now.getMonth()+1);
									$('#evaluator_history_created_at_day').prop('selectedIndex',now.getDate());
									$('#evaluator_history_created_at_hour').prop('selectedIndex',now.getHours()+1);
									$('#evaluator_history_created_at_minute').prop('selectedIndex',now.getMinutes()+1);*/
									//console.log( $('#asset_group_created_at_month').prop('selectedIndex') );
									// If the "cancel" hyperlink is clicked...
									/*$('#evaluator-history-cancel').click(function () {
										$('#evaluator-history-edit-container').empty();
										$('#evaluator-history-new').show();
									});*/

									//alert('trace');
									// If the "save" hyperlink is clicked...
									/*$('#evaluator-history-save').click(function (e) {
									// ...load the Evaluator History Edit View through an AJAX call...
										console.log('trace');
										e.preventDefault();

										/*$.ajax('/symfony/mediascore1.0a/frontend_dev.php/evaluatorhistory/create',
											{
												type: 'post',
												data: $('#evaluator-history-form').serialize(),
												error: function (data) {
													for(attrib in data)
														console.log(data[attrib]);
												}
											}
											
										      );*/

									/*	$.post(
											'/symfony/mediascore1.0a/frontend_dev.php/evaluatorhistory/create',
											$('#evaluator-history-form').serialize(),
											function(data,textStatus) {
												console.log('success');
												$('#evaluator-history-edit-container').empty();
												$('#evaluator-history-new').show();
												$('#evaluator-history-container').html(data);

											});
									});*/


								//});
				//});
				// If the "edit" hyperlink is clicked...
				/*$('#evaluator-history-edit').click(function () {
				// ...load the Evaluator History Edit View through an AJAX call...
				$('#evaluator-history-edit-container').load(
								'/symfony/mediascore1.0a/frontend_dev.php/evaluatorhistory/edit',
								// ...specifying the Evaluator History ID as a parameter value in the GET request
								{ id : 1 },
								function () {
									// Hide the "+ ADD NEW" input element
									$('#evaluator-history-new').hide();
									// If the "cancel" hyperlink is clicked...
									$('#evaluator-history-cancel').click(function () {
										$('#evaluator-history-edit-container').empty();
										$('#evaluator-history-new').show();
									});
								});
				});*/
//			});
//});
